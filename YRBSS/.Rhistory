<<<<<<< HEAD
strip.background = element_blank(), axis.text.y = element_blank())
subplot(
inh_plot,
her_plot,
nrows = 2,
shareY = TRUE,
shareX = TRUE)
her_plot <-
heroin_df %>%
ggplot(aes(x = 1, weight = total_her)) +
geom_bar(aes(fill = Heroin), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Use") +
labs(y="", x = "Heroin") +
scale_fill_brewer(palette="Blues",direction = 1,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="none",strip.placement = "outside",
strip.background = element_blank(), axis.text.y = element_blank())
subplot(
inh_plot,
her_plot,
nrows = 2,
shareY = TRUE,
shareX = TRUE)
her_plot <-
heroin_df %>%
ggplot(aes(x = 1, weight = total_her)) +
geom_bar(aes(fill = Heroin), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Use") +
labs(y="", x = "Heroin") +
scale_fill_brewer(palette="Blues",direction = 1,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position=c(0.95, 0.95),strip.placement = "outside",
strip.background = element_blank(), axis.text.y = element_blank())
subplot(
inh_plot,
her_plot,
nrows = 2,
shareY = TRUE,
shareX = TRUE)
her_plot <-
heroin_df %>%
ggplot(aes(x = 1, weight = total_her)) +
geom_bar(aes(fill = Heroin), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Use") +
labs(y="", x = "Heroin") +
scale_fill_brewer(palette="Blues",direction = 1,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position=c(0.95, 0.95),strip.placement = "outside", legend.justification = c("right", "top")
strip.background = element_blank(), axis.text.y = element_blank())
her_plot <-
heroin_df %>%
ggplot(aes(x = 1, weight = total_her)) +
geom_bar(aes(fill = Heroin), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Use") +
labs(y="", x = "Heroin") +
scale_fill_brewer(palette="Blues",direction = 1,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position=c(0.95, 0.95),strip.placement = "outside", legend.justification = c("right", "top"),
strip.background = element_blank(), axis.text.y = element_blank())
subplot(
inh_plot,
her_plot,
nrows = 2,
shareY = TRUE,
shareX = TRUE)
her_plot <-
heroin_df %>%
ggplot(aes(x = 1, weight = total_her)) +
geom_bar(aes(fill = Heroin), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Use") +
labs(y="", x = "Heroin") +
scale_fill_brewer(palette="Blues",direction = 1,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="none",strip.placement = "outside",
strip.background = element_blank(), axis.text.y = element_blank())
subplot(
inh_plot,
her_plot,
nrows = 2,
shareY = TRUE,
shareX = TRUE)
legend <- cowplot::get_legend(her_plot)
library("cowplot")
install.packages("cowplot")
library("cowplot")
legend <- cowplot::get_legend(her_plot)
subplot(
legend,
inh_plot,
her_plot,
nrows = 2,
shareY = TRUE,
shareX = TRUE)
ggplot(her_plot
subplot(
inh_plot,
her_plot,
nrows = 2,
shareY = TRUE,
shareX = TRUE))
legend
grid.newpage()
grid.draw(legend)
subplot(
inh_plot,
her_plot,
nrows = 2,
shareY = TRUE,
shareX = TRUE))
subplot(
inh_plot,
her_plot,
nrows = 2,
shareY = TRUE,
shareX = TRUE)
her_plot <-
heroin_df %>%
ggplot(aes(x = 1, weight = total_her)) +
geom_bar(aes(fill = Heroin), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Use") +
labs(y="", x = "Heroin") +
scale_fill_brewer(palette="Blues",direction = 1,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position=c(0.95, 0.95),strip.placement = "outside"
strip.background = element_blank(), axis.text.y = element_blank())
her_plot <-
heroin_df %>%
ggplot(aes(x = 1, weight = total_her)) +
geom_bar(aes(fill = Heroin), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Use") +
labs(y="", x = "Heroin") +
scale_fill_brewer(palette="Blues",direction = 1,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position=c(0.95, 0.95),strip.placement = "outside",
strip.background = element_blank(), axis.text.y = element_blank())
#+
#  facet_wrap(~main1,strip.position = "bottom",scales = "free")
her_plot
her_plot <-
heroin_df %>%
ggplot(aes(x = 1, weight = total_her)) +
geom_bar(aes(fill = Heroin), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Use") +
labs(y="", x = "Heroin") +
scale_fill_brewer(palette="Blues",direction = 1,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="top",strip.placement = "outside",
strip.background = element_blank(), axis.text.y = element_blank())
#+
#  facet_wrap(~main1,strip.position = "bottom",scales = "free")
her_plot
her_plot <-
heroin_df %>%
ggplot(aes(x = 1, weight = total_her)) +
geom_bar(aes(fill = Heroin), position = "fill") +
coord_flip() +
ggtitle("Lifetime Heroin Usage") +
labs(y="", x = "Heroin") +
scale_fill_brewer(palette="Blues",direction = 1,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="top",strip.placement = "outside",
strip.background = element_blank(), axis.text.y = element_blank())
#+
#  facet_wrap(~main1,strip.position = "bottom",scales = "free")
her_plot
full_demo_qs
nunique(full_demo_qs$Heroin)
distinct(full_demo_qs$Heroin)
distinct(full_demo_qs$Heroin)
table(full_demo_qs$Heroin)
x <- table(full_demo_qs$Heroin)
x <- s.data.frame(table(full_demo_qs$Heroin))
x <- as.data.frame(table(full_demo_qs$Heroin))
View(x)
names(hero) <- c("freq", "Heroin")
hero <- as.data.frame(table(full_demo_qs$Heroin))
names(hero) <- c("freq", "Heroin")
View(hero)
names(hero) <- c("Times", "Heroin")
hero <- as.data.frame(table(full_demo_qs$Heroin))
names(hero) <- c("Times", "Heroin")
inha <- as.data.frame(table(full_demo_qs$Inhalants))
names(inha) <- c("Times", "Inhalants")
meth <- as.data.frame(table(full_demo_qs$Methamphetamines))
names(meth) <- c("Times", "Methamphetamines")
opi <- as.data.frame(table(full_demo_qs$Opioids))
names(opi) <- c("Times", "Opioids")
mdma <- as.data.frame(table(full_demo_qs$MDMA))
names(mdma) <- c("Times", "MDMA")
lf_usage <- cbind(hero,inha,meth,opi,mdma)
View(lf_usage)
hero <- as.data.frame(table(full_demo_qs$Heroin))
names(hero) <- c("Times", "Heroin")
inha <- as.data.frame(table(full_demo_qs$Inhalants))
names(inha) <- c("Times2", "Inhalants")
meth <- as.data.frame(table(full_demo_qs$Methamphetamines))
names(meth) <- c("Times3", "Methamphetamines")
opi <- as.data.frame(table(full_demo_qs$Opioids))
names(opi) <- c("Times4", "Opioids")
mdma <- as.data.frame(table(full_demo_qs$MDMA))
names(mdma) <- c("Times5", "MDMA")
lf_usage <- cbind(hero,inha,meth,opi,mdma)
lf_usage <- lf_usage %>%
select(Times,Heroin,Inhalants,Methamphetamines,Opioids,MDMA)
lf_usage2 <- melt(lf_usage, id = c("Times"))
View(lf_usage2)
names(lf_usage2) <- c("Times", "Drug","n_times")
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Inhalants") +
labs(y="", x = "Inhalants") +
scale_fill_brewer(palette="Blues",direction = 1,
#labels=Inhalants,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="none",axis.text.y = element_blank())
lf_use_plot
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Inhalants") +
labs(y="", x = "Inhalants") +
scale_fill_brewer(palette="Blues",direction = 1,
#labels=Inhalants,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="top",axis.text.y = element_blank())
lf_use_plot
lf_usage <- lf_usage %>%
select(Times,Heroin,Inhalants,Methamphetamines,Opioids,MDMA) %>%
filter(Times != "Never")
lf_usage2 <- melt(lf_usage, id = c("Times"))
names(lf_usage2) <- c("Times", "Drug","n_times")
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Inhalants") +
labs(y="", x = "Inhalants") +
scale_fill_brewer(palette="Blues",direction = 1,
#labels=Inhalants,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="top",axis.text.y = element_blank())
lf_use_plot
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Inhalants") +
labs(y="", x = "Inhalants") +
scale_fill_brewer(palette="Blues",direction = -1,
#labels=Inhalants,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="top",axis.text.y = element_blank())
lf_use_plot
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Inhalants") +
labs(y="", x = "Inhalants") +
scale_fill_brewer(palette="Blues",direction = 1,
#labels=Inhalants,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="top",axis.text.y = element_blank())
lf_use_plot
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times, y= Drug)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Inhalants") +
labs(y="", x = "Inhalants") +
scale_fill_brewer(palette="Blues",direction = 1,
#labels=Inhalants,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="top",axis.text.y = element_blank())
lf_use_plot
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Inhalants") +
labs(y="", x = "Inhalants") +
scale_fill_brewer(palette="Blues",direction = 1,
#labels=Inhalants,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="top",axis.text.y = element_blank())
lf_use_plot
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Usage") +
labs(y=Drug, x = "") +
scale_fill_brewer(palette="Blues",direction = 1,
#labels=Inhalants,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="top",axis.text.y = element_blank())
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Usage") +
labs(y=~Drug, x = "") +
scale_fill_brewer(palette="Blues",direction = 1,
#labels=Inhalants,
name="") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="top",axis.text.y = element_blank())
lf_use_plot
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Usage") +
labs(y="", x = ~Drug) +
scale_fill_brewer(palette="Blues",direction = 1) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="top",axis.text.y = element_blank())
lf_use_plot
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Usage") +
labs(y="", x = Drug) +
scale_fill_brewer(palette="Blues",direction = 1) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="top",axis.text.y = element_blank())
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Usage") +
labs(y="", x = ~Drug) +
scale_fill_brewer(palette="Blues",direction = 1) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="top",axis.text.y = element_blank())
lf_use_plot
lf_usage2$Drug <- as.factor(lf_usage2$Drug)
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Usage") +
labs(y="", x = ~Drug) +
scale_fill_brewer(palette="Blues",direction = 1) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "gray"),
legend.position="top",axis.text.y = element_blank())
lf_use_plot
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Usage") +
labs(y="", x = ~Drug) +
scale_fill_brewer(palette="Blues",direction = 1)
lf_use_plot
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Usage") +
labs(y="", x = "") +
scale_fill_brewer(palette="Blues",direction = 1)
lf_use_plot
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Use Rates") +
labs(y="", x = "") +
scale_fill_brewer(palette="Blues",direction = 1)
lf_use_plot
names(opi) <- c("Times4", "Opioids (Illicit)")
hero <- as.data.frame(table(full_demo_qs$Heroin))
names(hero) <- c("Times", "Heroin")
inha <- as.data.frame(table(full_demo_qs$Inhalants))
names(inha) <- c("Times2", "Inhalants")
meth <- as.data.frame(table(full_demo_qs$Methamphetamines))
names(meth) <- c("Times3", "Methamphetamines")
opi <- as.data.frame(table(full_demo_qs$Opioids))
names(opi) <- c("Times4", "Opioids (Illicit)")
mdma <- as.data.frame(table(full_demo_qs$MDMA))
names(mdma) <- c("Times5", "MDMA")
lf_usage <- cbind(hero,inha,meth,opi,mdma)
lf_usage <- lf_usage %>%
select(Times,Heroin,Inhalants,Methamphetamines,Opioids,MDMA) %>%
filter(Times != "Never")
lf_usage2 <- melt(lf_usage, id = c("Times"))
names(lf_usage2) <- c("Times", "Drug","n_times")
lf_usage2$Drug <- as.factor(lf_usage2$Drug)
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Use Rates") +
labs(y="", x = "") +
scale_fill_brewer(palette="Blues",direction = 1)
lf_usage2
lf_use_plot
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Use Rate") +
labs(y="", x = "") +
scale_fill_brewer(palette="Blues",direction = 1)
lf_use_plot
lf_usage <- lf_usage %>%
select(Times,Heroin,Inhalants,Methamphetamines,Opioids,MDMA) %>%
filter(Times != "Never")
names(opi) <- c("Times4", "Opioids (Illicit)")
lf_usage <- lf_usage %>%
select(Times,Heroin,Inhalants,Methamphetamines,"Opioids (Illicit)",MDMA) %>%
filter(Times != "Never")
lf_usage2 <- melt(lf_usage, id = c("Times"))
names(lf_usage2) <- c("Times", "Drug","n_times")
lf_usage2$Drug <- as.factor(lf_usage2$Drug)
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Use Rate") +
labs(y="", x = "") +
scale_fill_brewer(palette="Blues",direction = 1)
lf_use_plot
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Use (Number of Occurrences") +
labs(y="", x = "") +
scale_fill_brewer(palette="Blues",direction = 1)
lf_use_plot
lf_use_plot <-
lf_usage2 %>%
ggplot(aes(x = Drug, weight = n_times)) +
geom_bar(aes(fill = Times), position = "fill") +
coord_flip() +
ggtitle("Lifetime Drug Use (Number of Occurrences)") +
labs(y="", x = "") +
scale_fill_brewer(palette="Blues",direction = 1)
lf_use_plot
=======
library(plotly)
demo = read.csv("/Users/ktread/Capstone_Proj/EDA_and_Preproc/demographic.csv")
>>>>>>> 6e1d9a90d859a13d7a2d4d096a70467ee37c62b6
